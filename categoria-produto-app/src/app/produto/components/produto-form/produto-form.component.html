<div class="form-container">
    <h2>{{ isEditMode ? 'Editar Produto' : 'Criar Produto' }}</h2>

    <form [formGroup]="produtoForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label for="nome">Nome:</label>
            <input id="nome" formControlName="nome" type="text" pInputText
                [ngClass]="{'p-invalid': produtoForm.get('nome')?.invalid}" />
            <div *ngIf="produtoForm.get('nome')?.invalid && produtoForm.get('nome')?.touched" class="error">
                O nome é obrigatório
            </div>
        </div>

        <div class="form-group">
            <label for="preco">Preço:</label>
            <input id="preco" formControlName="preco" type="number" step="0.01" pInputText
                [ngClass]="{'p-invalid': produtoForm.get('preco')?.invalid}" />
            <div *ngIf="produtoForm.get('preco')?.invalid && produtoForm.get('preco')?.touched" class="error">
                O preço é obrigatório
            </div>
        </div>

        <div class="form-group">
            <label for="categoria">Categoria:</label>
            <select id="categoria" formControlName="categoria">
                <option *ngFor="let categoria of categorias" [value]="categoria.id">
                    {{ categoria.nome }}
                </option>
            </select>
        </div>

        <button pButton type="submit" label="{{ isEditMode ? 'Salvar Alterações' : 'Criar Produto' }}"
            [disabled]="produtoForm.invalid"></button>
    </form>
</div>